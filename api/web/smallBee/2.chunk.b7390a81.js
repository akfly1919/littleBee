webpackJsonp([2],{166:function(t,e,s){"use strict";function i(t){r||s(192)}Object.defineProperty(e,"__esModule",{value:!0});var a=s(183),n=s(196),r=!1,o=s(23),c=i,l=o(a.a,n.a,!1,c,"data-v-cef599d0",null);l.options.__file="src/module/smallBee/pages/register.vue",e.default=l.exports},183:function(t,e,s){"use strict";(function(t){var i=s(193),a=s.n(i),n=s(64),r=s.n(n),o=s(145),c=s(68);e.a={name:"register",data:function(){return{loading:1,sjTeamID:"",userName:"",userId:"",userFirm:"",bankCard:"",certificatesProving:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,tabList:["triangleFlag","cityFlag","countyFlag"],triangle:"选择所在省份",triangleFlag:0,city:"选择所在城市",cityFlag:0,county:"选择所在县区",countyFlag:0,searchDto:"",sendList0:[],sendList1:[],sendList2:[]}},components:{loading:o.a},methods:{retrieveFrom:function(){var e=this;return this.userName&&this.bankCard&&this.userId&&this.userFirm&&"选择所在省份"!=this.triangle&&"选择所在城市"!=this.city&&"选择所在县区"!=this.county?this.sjTeamID&&!/^1[34578]\d{9}$/.test(this.sjTeamID)?void this.$store.dispatch("changeTipHint","推荐人手机号码错误"):this.certificatesProving.test(this.userId)?void t.ajax({url:c.d.SAVE_TEAM_PROFILE,headers:{token:this.$store.state.userInfo.apiToken||""},data:{sjTeamID:this.sjTeamID-0,name:this.userName,identity:this.userId,company:this.userFirm,bankCode:this.bankCard,province:this.triangle,city:this.city,area:this.county},type:"post",success:function(t){var s=t.data;console.log("保存会员资料："+r()(t)),200==s.code?(e.$store.state.userInfo.needUserInfo=!1,e.$store.dispatch("changeTipHint","信息登记成功！"),e.$router.push("/home")):e.$store.dispatch("changeTipHint",s.message)}}):void this.$store.dispatch("changeTipHint","身份证号码不合法！"):void this.$store.dispatch("changeTipHint","信息填写不完整！")},selectT:function(t){if(this[t])this[t]=0;else{var e=!0,s=!1,i=void 0;try{for(var n,r=a()(this.tabList);!(e=(n=r.next()).done);e=!0){var o=n.value;this[o]=o==t?1:0}}catch(t){s=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(s)throw i}}}},selectItm:function(t,e,s,i){this[t]=this["sendList"+i][e].name,this[t+"Flag"]=0,i?1==i&&(this.sendList2=[],this.county="选择所在县区",this.questMenu(2,s)):(this.sendList1=[],this.sendList2=[],this.city="选择所在城市",this.county="选择所在县区",this.questMenu(1,s))},questMenu:function(e,s){var i=this;console.log(s);var a=1==e?{provinceCode:s}:{cityCode:s};t.ajax({url:c.d.GET_PLACE,headers:{token:this.$store.state.userInfo.apiToken||""},data:a,type:"GET",success:function(t){var s=t.data;console.log("三级联动--"+(1==e?"市级：":"县级：")+r()(t)),200==s.code?i["sendList"+e]=s.city||s.area:i.$store.dispatch("changeTipHint",s.message)}})},initia:function(){var e=this;t.ajax({url:c.d.REGISTER_INFO,headers:{token:this.$store.state.userInfo.apiToken||""},data:{},type:"GET",success:function(t){var s=t.data;console.log("填写资料页初始化："+r()(t)),200==s.code?s.needUserInfo?(e.sendList0=s.province,e.loading=0):(e.$store.state.userInfo.needUserInfo=!1,e.$store.dispatch("changeTipHint","信息已登记"),e.loading=0):e.$store.dispatch("changeTipHint",s.message)}})}},created:function(){this.initia()}}}).call(e,s(65))},192:function(t,e){},193:function(t,e,s){t.exports={default:s(194),__esModule:!0}},194:function(t,e,s){s(39),s(38),t.exports=s(195)},195:function(t,e,s){var i=s(4),a=s(69);t.exports=s(3).getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},196:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register-page",attrs:{id:"register_page"}},[s("div",{staticClass:"title"},[t._v("填写会员资料")]),t._v(" "),s("div",{staticClass:"register-content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sjTeamID,expression:"sjTeamID"}],staticClass:"user-jian",attrs:{placeholder:"推荐人手机号(选填)",type:"number"},domProps:{value:t.sjTeamID},on:{input:function(e){e.target.composing||(t.sjTeamID=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"user-name",attrs:{placeholder:"真实姓名",type:"text",maxlength:"12"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userId,expression:"userId"}],staticClass:"user-id",attrs:{placeholder:"有效身份证号",type:"number"},domProps:{value:t.userId},on:{input:function(e){e.target.composing||(t.userId=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userFirm,expression:"userFirm"}],staticClass:"user-firm",attrs:{placeholder:"所在公司名称",type:"text",maxlength:"30"},domProps:{value:t.userFirm},on:{input:function(e){e.target.composing||(t.userFirm=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.bankCard,expression:"bankCard"}],staticClass:"bank-card down",attrs:{placeholder:"绑定银行卡号",type:"number"},domProps:{value:t.bankCard},on:{input:function(e){e.target.composing||(t.bankCard=e.target.value)}}}),t._v(" "),s("div",{staticClass:"select-center"},[s("div",{staticClass:"v-select",on:{click:function(e){t.selectT("triangleFlag")}}},[t._v(t._s(t.triangle))]),t._v(" "),s("div",{class:["triangle",{"tr-rol":t.triangleFlag}],on:{click:function(e){t.selectT("triangleFlag")}}}),t._v(" "),t.triangleFlag?s("ul",{staticClass:"v-options"},t._l(t.sendList0,function(e,i){return s("li",{on:{click:function(s){t.selectItm("triangle",i,e.code,0)}}},[t._v(t._s(e.name))])})):t._e()]),t._v(" "),s("div",{staticClass:"select-center"},[s("div",{staticClass:"v-select",on:{click:function(e){t.selectT("cityFlag")}}},[t._v(t._s(t.city))]),t._v(" "),s("div",{class:["triangle",{"tr-rol":t.cityFlag}],on:{click:function(e){t.selectT("cityFlag")}}}),t._v(" "),t.cityFlag?s("ul",{staticClass:"v-options"},t._l(t.sendList1,function(e,i){return s("li",{on:{click:function(s){t.selectItm("city",i,e.code,1)}}},[t._v(t._s(e.name))])})):t._e()]),t._v(" "),s("div",{staticClass:"select-center"},[s("div",{staticClass:"v-select",on:{click:function(e){t.selectT("countyFlag")}}},[t._v(t._s(t.county))]),t._v(" "),s("div",{class:["triangle",{"tr-rol":t.countyFlag}],on:{click:function(e){t.selectT("countyFlag")}}}),t._v(" "),t.countyFlag?s("ul",{staticClass:"v-options"},t._l(t.sendList2,function(e,i){return s("li",{on:{click:function(s){t.selectItm("county",i,e.code,2)}}},[t._v(t._s(e.name))])})):t._e()]),t._v(" "),s("button",{staticClass:"sub-from",attrs:{type:"button"},on:{click:t.retrieveFrom}},[t._v("提交信息")])]),t._v(" "),s("loading",{attrs:{loading:t.loading}})],1)},a=[];i._withStripped=!0;var n={render:i,staticRenderFns:a};e.a=n}});